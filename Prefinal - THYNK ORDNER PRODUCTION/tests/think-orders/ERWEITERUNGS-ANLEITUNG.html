<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>ERWEITERUNGS-ANLEITUNG</title>
<style>
body { font-family: system-ui; max-width: 800px; margin: 0 auto; padding: 20px; }
pre { background: #f5f5f5; padding: 10px; border-radius: 5px; overflow-x: auto; }
code { background: #f5f5f5; padding: 2px 4px; border-radius: 3px; }
</style>
</head>
<body>
<h1>üìö Erweiterungs-Anleitung - Tests erweitern f√ºr Dummies</h1>

<h2>üéØ Einf√ºhrung</h2>

Diese Anleitung zeigt Ihnen Schritt-f√ºr-Schritt, wie Sie die Think Orders Test-Suite erweitern k√∂nnen. Keine Programmierkenntnisse erforderlich - alles wird einfach erkl√§rt!

---

<h2>üìã Inhaltsverzeichnis</h2>

1. <a href="#basis-wissen">Basis-Wissen</a>
2. <a href="#ersten-test-hinzuf√ºgen">Ersten Test hinzuf√ºgen</a>
3. <a href="#helper-funktionen-verwenden">Helper-Funktionen verwenden</a>
4. <a href="#neue-features-testen">Neue Features testen</a>
5. <a href="#beispiele">Beispiele</a>
6. <a href="#troubleshooting">Troubleshooting</a>

---

<h2>üîë Basis-Wissen</h2>

<h3>Was ist ein Test?</h3>

Ein Test ist ein <strong>automatisiertes Programm</strong>, das pr√ºft, ob eine Funktion richtig funktioniert.

<strong>Beispiel:</strong>
```typescript
test('Button funktioniert', async ({ page }) => {
  await page.click('button');  // Klicke auf Button
  await expect(page.locator('text=Erfolg')).toBeVisible();  // Pr√ºfe ob Text erscheint
});
```

<h3>Test-Struktur</h3>

Jeder Test besteht aus 3 Teilen:

1. <strong>Arrange</strong> (Vorbereitung): Daten vorbereiten, Seite √∂ffnen
2. <strong>Act</strong> (Aktion): Button klicken, Formular ausf√ºllen
3. <strong>Assert</strong> (Pr√ºfung): Ergebnis √ºberpr√ºfen

---

<h2>‚úèÔ∏è Ersten Test hinzuf√ºgen</h2>

<h3>Schritt 1: Datei √∂ffnen</h3>

√ñffnen Sie die Datei:
```
tests/think-orders/think-orders.spec.ts
```

<h3>Schritt 2: Neuen Test-Block finden</h3>

Suchen Sie nach einem passenden `test.describe` Block oder erstellen Sie einen neuen:

```typescript
test.describe('Ihr Feature Name', () => {
  // Ihre Tests kommen hier rein
});
```

<h3>Schritt 3: Test schreiben</h3>

F√ºgen Sie einen Test hinzu:

```typescript
test('Was Ihr Test macht', async ({ page }) => {
  // Ihr Test-Code
});
```

<h3>Schritt 4: Test ausf√ºhren</h3>

```bash
npm test
```

---

<h2>üõ†Ô∏è Helper-Funktionen verwenden</h2>

Helper-Funktionen machen Tests einfacher. Sie sind in `helpers/test-helpers.ts` definiert.

<h3>Navigation</h3>

```typescript
const helpers = new ThinkTestHelpers(page);

// Zu einer Seite navigieren
await helpers.navigateToRoute('/orders');

// Navigation-Link klicken
await helpers.clickNavLink('Orders');

// Pr√ºfen ob Seite aktiv ist
await helpers.isPageActive('page-orders');
```

<h3>Formulare ausf√ºllen</h3>

```typescript
// Eingabefeld f√ºllen
await helpers.fillInput('#productName', 'Mein Produkt');
await helpers.fillInput('#productPrice', '29.99');

// Button klicken
await helpers.clickButton('Speichern');
```

<h3>Daten erstellen</h3>

```typescript
// Test-Order erstellen
const order = await helpers.createTestOrder();

// Test-Product erstellen
const product = await helpers.createTestProduct();
```

<h3>LocalStorage</h3>

```typescript
// Daten l√∂schen
await helpers.clearLocalStorage();

// Daten setzen
await helpers.setLocalStorage('thynk_orders', orders);

// Daten lesen
const orders = await helpers.getLocalStorage('thynk_orders');
```

---

<h2>üÜï Neue Features testen</h2>

<h3>Beispiel 1: Neuer Button testen</h3>

Angenommen, Sie haben einen neuen Button "L√∂schen" hinzugef√ºgt:

```typescript
test('L√∂schen-Button funktioniert', async ({ page }) => {
  const helpers = new ThinkTestHelpers(page);
  
  // 1. Vorbereitung: Test-Daten erstellen
  await helpers.createTestOrder();
  await helpers.navigateToRoute('/orders');
  await helpers.waitForPageLoad();
  
  // 2. Aktion: Button klicken
  page.on('dialog', async dialog => {
    await dialog.accept(); // Dialog best√§tigen
  });
  await page.click('button:has-text("L√∂schen")');
  
  // 3. Pr√ºfung: Order sollte gel√∂scht sein
  await expect(page.locator('text=No orders found')).toBeVisible();
});
```

<h3>Beispiel 2: Neues Formular testen</h3>

Angenommen, Sie haben ein neues Formular "Kategorie hinzuf√ºgen":

```typescript
test('Kategorie hinzuf√ºgen funktioniert', async ({ page }) => {
  const helpers = new ThinkTestHelpers(page);
  
  // 1. Vorbereitung: Zu Products-Seite navigieren
  await helpers.navigateToRoute('/products');
  await helpers.waitForPageLoad();
  
  // 2. Aktion: Formular ausf√ºllen
  await helpers.fillInput('#categoryName', 'Elektronik');
  await helpers.fillInput('#categoryDescription', 'Elektronische Ger√§te');
  await helpers.clickButton('Kategorie hinzuf√ºgen');
  
  // 3. Pr√ºfung: Kategorie sollte angezeigt werden
  await expect(page.locator('text=Elektronik')).toBeVisible();
});
```

<h3>Beispiel 3: Neue Seite testen</h3>

Angenommen, Sie haben eine neue Seite "Berichte" hinzugef√ºgt:

```typescript
test.describe('Think Orders - Berichte', () => {
  test('Berichte-Seite sollte laden', async ({ page }) => {
    const helpers = new ThinkTestHelpers(page);
    
    // Navigieren
    await helpers.navigateToRoute('/reports');
    await helpers.waitForPageLoad();
    
    // Pr√ºfen
    await helpers.isPageActive('page-reports');
    await expect(page.locator('h1:has-text("Berichte")')).toBeVisible();
  });
  
  test('Bericht generieren funktioniert', async ({ page }) => {
    const helpers = new ThinkTestHelpers(page);
    
    // Vorbereitung
    await helpers.createTestOrder();
    await helpers.navigateToRoute('/reports');
    await helpers.waitForPageLoad();
    
    // Aktion
    await helpers.clickButton('Bericht generieren');
    await page.waitForTimeout(2000);
    
    // Pr√ºfung
    await expect(page.locator('text=Bericht generiert')).toBeVisible();
  });
});
```

---

<h2>üí° H√§ufige Muster</h2>

<h3>Dialoge behandeln</h3>

```typescript
// Alert best√§tigen
page.on('dialog', async dialog => {
  await dialog.accept();
});

// Prompt mit Wert ausf√ºllen
page.on('dialog', async dialog => {
  await dialog.accept('Mein Wert');
});

// Dialog ablehnen
page.on('dialog', async dialog => {
  await dialog.dismiss();
});
```

<h3>Auf Elemente warten</h3>

```typescript
// Auf Element warten
await page.waitForSelector('#myElement');

// Auf Text warten
await expect(page.locator('text=Mein Text')).toBeVisible({ timeout: 5000 });
```

<h3>Screenshots</h3>

```typescript
// Screenshot aufnehmen
await page.screenshot({ path: 'screenshot.png' });

// Automatisch bei Fehler (in config eingestellt)
```

---

<h2>üìù Vollst√§ndiges Beispiel</h2>

Hier ist ein vollst√§ndiges Beispiel f√ºr einen neuen Test:

```typescript
test.describe('Think Orders - Neues Feature', () => {
  let helpers: ThinkTestHelpers;

  test.beforeEach(async ({ page }) => {
    helpers = new ThinkTestHelpers(page);
    await helpers.clearLocalStorage();
    await helpers.navigateToRoute('/');
    await helpers.waitForPageLoad();
  });

  test('Neue Funktion sollte funktionieren', async ({ page }) => {
    // 1. VORBEREITUNG (Arrange)
    await helpers.createTestOrder();
    await helpers.navigateToRoute('/orders');
    await helpers.waitForPageLoad();

    // 2. AKTION (Act)
    await page.click('button:has-text("Neue Funktion")');
    await page.waitForTimeout(1000);

    // 3. PR√úFUNG (Assert)
    await expect(page.locator('text=Funktion ausgef√ºhrt')).toBeVisible();
  });
});
```

---

<h2>üîç Elemente finden</h2>

<h3>Nach Text suchen</h3>

```typescript
// Button mit Text finden
await page.click('button:has-text("Speichern")');

// Link mit Text finden
await page.click('a:has-text("Home")');

// Text sollte sichtbar sein
await expect(page.locator('text=Erfolg')).toBeVisible();
```

<h3>Nach ID suchen</h3>

```typescript
// Element mit ID finden
await page.fill('#productName', 'Test');
await page.click('#submitButton');
```

<h3>Nach Klasse suchen</h3>

```typescript
// Element mit Klasse finden
await page.click('.btn-primary');
await page.click('.card');
```

<h3>Nach Attribut suchen</h3>

```typescript
// Element mit Attribut finden
await page.click('[data-testid="my-button"]');
await page.click('[type="submit"]');
```

---

<h2>üêõ Troubleshooting</h2>

<h3>Test schl√§gt fehl: "Element nicht gefunden"</h3>

<strong>Problem:</strong> Test findet Element nicht

<strong>L√∂sung:</strong>
1. Pr√ºfe ob Element wirklich existiert
2. Warte l√§nger: `await page.waitForTimeout(2000)`
3. Verwende `waitForSelector`:
   ```typescript
   await page.waitForSelector('#myElement', { timeout: 10000 });
   ```

<h3>Test schl√§gt fehl: "Timeout"</h3>

<strong>Problem:</strong> Test l√§uft zu lange

<strong>L√∂sung:</strong>
1. Erh√∂he Timeout in Config oder Test:
   ```typescript
   test('Mein Test', async ({ page }) => {
     test.setTimeout(60000); // 60 Sekunden
   });
   ```
2. Pr√ºfe ob Aktion wirklich ausgef√ºhrt wird
3. Verwende `waitForLoadState`:
   ```typescript
   await page.waitForLoadState('networkidle');
   ```

<h3>Test funktioniert manuell, aber nicht automatisch</h3>

<strong>Problem:</strong> Timing-Problem

<strong>L√∂sung:</strong>
1. F√ºge Wartezeiten hinzu:
   ```typescript
   await page.waitForTimeout(500);
   ```
2. Warte auf spezifisches Element:
   ```typescript
   await page.waitForSelector('#myElement');
   ```

---

<h2>‚úÖ Checkliste f√ºr neue Tests</h2>

- [ ] Test hat aussagekr√§ftigen Namen
- [ ] Test ist in passendem `test.describe` Block
- [ ] LocalStorage wird geleert (wenn n√∂tig)
- [ ] Vorbereitung (Arrange) ist vollst√§ndig
- [ ] Aktion (Act) ist klar
- [ ] Pr√ºfung (Assert) ist vorhanden
- [ ] Test l√§uft durch (`npm test`)
- [ ] Test ist dokumentiert

---

<h2>üìö Weiterf√ºhrende Ressourcen</h2>

- <a href="https://playwright.dev/">Playwright Dokumentation</a>
- <a href="https://playwright.dev/docs/api/class-playwright">Playwright API Reference</a>
- <a href="https://playwright.dev/docs/best-practices">Test Best Practices</a>

---

<h2>üÜò Hilfe</h2>

Bei Problemen:

1. Pr√ºfe Browser-Console f√ºr Fehler
2. F√ºhre Test mit `--headed` aus: `npm run test:headed`
3. Verwende Debug-Modus: `npm run test:debug`
4. Pr√ºfe Test-Report: `npm run test:report`

---

<strong>Viel Erfolg beim Testen! üöÄ</strong>
</body>
</html>